<html lang = "en" xmlns:th = "http://www.thymeleaf.org">

<head>
    <title>Users Listing</title>
    <!-- META -->
    <meta charset = "utf-8">
    <meta name = "viewport" content = "width=device-width, initial-scale=1">
    
    <!--MATERIALIZE CSS-->
    <link href = "https://fonts.googleapis.com/icon?family=Material+Icons"
          rel = "stylesheet">
    <link href = "resources/css/materialize.css" type = "text/css"
          rel = "stylesheet"
          media = "screen,projection"/>
    <link href = "resources/css/style.css" type = "text/css" rel = "stylesheet"
          media = "screen,projection"/>
    <!-- Compiled and minified CSS -->
    <link rel = "stylesheet"
          href = "https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!-- BOOTSTRAP CSS -->
    <link href = "https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel = "stylesheet"
          integrity = "sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin = "anonymous">
</head>

<body>
<!--TOP NAV-->
<nav class = "sticky materialize-red lighten-2" id = "nav" role = "navigation">
    <div class = "navbar-fixed">
        
        <ul class = "left show-on-small">
            <li><a id = "logo-container" href = "welcome"
                   class = "left brand-logo show-on-small">Learn Fast</a></li>
        </ul>
        <ul id = "nav-mobile" class = "right hide-on-small-only">
            <li><a href = "usersRead">User Listing</a></li>
            <li><a href = "#">2</a></li>
            <li><a href = "#">3</a></li>
        </ul>
    
    </div>
</nav>
<!--TOP NAV END-->

<div id = "page-container">
    <div id = "content-wrap">
        <div class = "content" id = "content">
            <div class = "section no-pad-bot" id = "index-banner">
                <div class = "container">
                    <br><br>
                    <h1 class = "header center">User Listing</h1>
                    <div class = "row center">
                        <h5 class = "header col s12 light"></h5>
                    </div>
                    <br><br>
                
                </div>
            </div>
            
            <hr/>
            <div class = "container">
                <section class = "section">
                    <a th:href = "@{/userCreateForm}" class = "btn btn-success">Create
                                                                                User</a>
                    <br/><br/>
                    <table class = "table table-bordered table-striped"
                           id = "userTable">
                        
                        <thead>
                        <tr>
                            <th>Username</th>
                            <th>Birthdate</th>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Gender</th>
                            <th>Email</th>
                            <th>Phone Number</th>
                            <th>Update || Delete</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each = "user: ${users}">
                            <td th:text = "${user.username}"></td>
                            <td th:text = "${user.birthdate}"></td>
                            <td th:text = "${user.givenName}"></td>
                            <td th:text = "${user.familyName}"></td>
                            <td th:text = "${user.gender}"></td>
                            <td th:text = "${user.email}"></td>
                            <td th:text = "${user.phoneNumber}"></td>
                            <td>
                                <a th:href = "@{/userUpdateForm(userId=${user.id})}"
                                   class = "btn btn-success">Update</a>
                                
                                <a th:href = "@{/userDelete(userId=${user.id})}"
                                   class = "btn btn-danger ml-2">Delete</a>
                            </td>
                        </tr>
                        </tbody>
                    
                    </table>
                </section>
            </div>
        
        </div>
    </div>
</div>

<!--JS SCRIPTS-->
<script src = "https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src = "resources/js/materialize.js"></script>
<script src = "resources/js/init.js"></script>
<!-- Compiled and minified JavaScript -->
<script src = "https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script type = "text/javascript"
        src = "https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script>
    $(document).ready(function () {
        $("#userTable").DataTable({
            'aoColumnDefs': [{
                'bSortable': false,
                'aTargets': [-1]
            }]
        });
    })
</script>
<!--JS SCRIPTS END-->
</body>
<!--NAV-->
<div class = "bottomNav">
    <nav class = "navbar fixed-bottom materialize-red lighten-2"
         role = "navigation">
        <div class = "nav-wrapper container">
            
            <div class = "center container">
                <ul class = "center container" id = "nav-bottom">
                    <li><a href = "welcome"><i class = "material-icons">home</i></a>
                    </li>
                    <li><a href = "#"><i class = "material-icons">search</i></a>
                    </li>
                    <li><a href = "#"><i
                            class = "material-icons">ondemand_video</i></a>
                    </li>
                    <li><a href = "#"><i class = "material-icons">shop</i></a>
                    </li>
                    <li><a href = "#"><i class = "material-icons">chat</i></a>
                    </li>
                    <li><a href = "#"><i class = "material-icons">person_pin</i></a>
                    </li>
                </ul>
            </div>
            
            </ul>
        
        </div>
    </nav>
</div>
<!--NAV END-->
</html>