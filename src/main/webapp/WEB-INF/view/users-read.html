<html lang = "en" xmlns:th = "http://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset = "utf-8">
    <meta name = "viewport" content = "width=device-width, initial-scale=1">
    
    <!-- Bootstrap CSS -->
    <link href = "https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel = "stylesheet"
          integrity = "sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin = "anonymous">
    <link href = "https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap5.min.css"
          rel = "stylesheet">
    
    <title>Users Listing</title>
</head>

<body>

<div class = "container-fluid">
    
    <h3>User Listing</h3>
    
    <hr/>
    <a th:href = "@{/userCreateForm}" class = "btn btn-success">Create
                                                                       User</a>
    <br/><br/>
    <table class = "table table-bordered table-striped" id = "userTable">
        
        <thead>
        <tr>
            <th>Username</th>
            <th>Birthdate</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Gender</th>
            <th>Email</th>
            <th>Phone Number</th>
            <th>Update || Delete</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each = "user: ${users}">
            <td th:text = "${user.username}"></td>
            <td th:text = "${user.birthdate}"></td>
            <td th:text = "${user.givenName}"></td>
            <td th:text = "${user.familyName}"></td>
            <td th:text = "${user.gender}"></td>
            <td th:text = "${user.email}"></td>
            <td th:text = "${user.phoneNumber}"></td>
            <td>
                <a th:href = "@{/userUpdateForm(userId=${user.id})}"
                   class = "btn btn-success">Update</a>
                
                <a th:href = "@{/userDelete(userId=${user.id})}"
                   class = "btn btn-danger ml-2">Delete</a>
            </td>
        </tr>
        </tbody>
    
    </table>
</div>

<script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script type = "text/javascript"
        src = "https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script>
    $(document).ready(function () {
        $("#userTable").DataTable({
            'aoColumnDefs': [{
                'bSortable': false,
                'aTargets': [-1]
            }]
        });
    })
</script>
</body>

</html>